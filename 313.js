/*! For license information please see 313.js.LICENSE.txt */
"use strict";(self.webpackChunkuserservices=self.webpackChunkuserservices||[]).push([[313],{1342:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(3884),a=n.n(r),i=n(8289),o=n(65);const c=[{id:"3498274019283",name:"Tã Quần Lulubebe Size XXL Cho Trẻ Từ 15kg 40 Miếng",brand:"Lulubebe",price:275e3,image:"https://thumbor.asia-southeast1.aeon-vn-prod.e.spresso.com/unsafe/trim/fit-in/512x400/filters:quality(100):max_bytes(50000):upscale():fill(white)/https://catalog-assets-asia-southeast1.aeon-vn-prod.e.spresso.com/c3RvcmFnZS5nb29nbGVhcGlzLmNvbQ==/YWVvbnZpZXRuYW0tc3ByZXNzby1wdWJsaWM=/MjAyNQ==/TUFZ/MTA2MTU3NTEgKDEp.jpg",inStockQuantity:10},{id:"5823904712301",name:"Sữa Bột Infant Formula Lon Cho Bé 0-12 Tháng Tuổi",brand:"Meiji",price:54e4,image:"https://cdn1.concung.com/storage/2023/04/1682576125-meiji-infant-formula-800g-0-12-thang.png",inStockQuantity:10},{id:"1039482756348",name:"Kem Đánh Răng Muối Biển Detox Trắng Răng",brand:"Closeup",price:54900,image:"https://u-shop.vn/images/thumbs/0012390_closeup-detox-trang-rang-muoi-bien-180g_510.png",inStockQuantity:10},{id:"7293847501920",name:"Dầu Gội Mát Lạnh Bạc Hà Sạch Gàu",brand:"CLEAR",price:2e5,image:"https://production-cdn.pharmacity.io/digital/1080x1080/plain/e-com/images/ecommerce/P07038_1.jpg",inStockQuantity:10},{id:"6471928374053",name:"Tẩy Tế Bào Chết Dưỡng Ẩm Toàn Thân Đường Nâu & Hương Dừa",brand:"Dove",price:195300,image:"https://lh3.googleusercontent.com/dkB5WXJnzixM2mwoSQFrB5DDL-is9XfwmMwJM3-l-0Cl2AWQlNkzxBQQ8QlzUUml2mc5EU-ufviGjJ74x9mPRG_C26T8pE0",inStockQuantity:10},{id:"8327401928374",name:"Bút Lông Bảng Thiên Long Whiteboard Marker Liquid WB-022 Mực Xanh",brand:"Thiên Long",price:12e3,image:"https://product.hstatic.net/1000230347/product/artboard_5_8e6bcf268d4a489abdbcd039dc7b6b3f.jpg",inStockQuantity:10},{id:"5647382910372",name:"Hạt Nêm Chay Nấm Hương Organic",brand:"KNORR",price:85e3,image:"https://cdn.tgdd.vn/Products/Images/2806/195884/bhx/hat-nem-chay-nam-huong-organic-knorr-goi-170g-202203301955009432.jpg",inStockQuantity:10},{id:"9102837465120",name:"Tương Ớt",brand:"Chinsu",price:18e3,image:"https://cdn.tgdd.vn/Products/Images/2567/76916/bhx/tuong-ot-chinsu-250g-24-2-700x467.jpg",inStockQuantity:10},{id:"2719038475629",name:"Thùng 24 Lon Bia Crystal 33",brand:"Tiger",price:405e3,image:"https://salt.tikicdn.com/ts/product/4e/e5/89/acb8ee15808adaa5fd98da268f83713d.jpg",inStockQuantity:10},{id:"4893021749381",name:"Kẹo Sô Cô La Sữa m&m's",brand:"m&m's",price:26e3,image:"https://cdn.tgdd.vn/Products/Images/6597/79458/bhx/keo-socola-sua-m-ms-goi-40g-201909071346019004.jpg",inStockQuantity:10},{id:"3849201756273",name:"Bánh kem xốp kem Richeese Nabati vị khoai môn",brand:"Nabati",price:9e3,image:"https://minhcaumart.vn//media/com_eshop/products/resized/8993175561167-500x500.webp",inStockQuantity:10},{id:"5093847162834",name:"Bánh xốp Nabati kem phô mai dâu Richeese",brand:"Nabati",price:9e3,image:"https://www.lottemart.vn/media/catalog/product/cache/0x0/8/9/8993175564892-1.jpg.webp",inStockQuantity:10},{id:"6782910348275",name:"Đậu phộng da cá vị phô mai Poca",brand:"Poca",price:13e3,image:"https://cdn.tgdd.vn/Products/Images/3487/193588/bhx/dau-phong-da-ca-vi-pho-mai-nutz-poca-goi-42g-201911061626393723.jpg",inStockQuantity:10},{id:"7948203746521",name:"Nước Giặt Omo Matic Chuyên Gia Cửa Trên Sạch Sâu Vượt Trội",brand:"OMO",price:215e3,image:"https://u-shop.vn/images/thumbs/0015854_nuoc-giat-omo-matic-chuyen-gia-cua-tren-31kg.png",inStockQuantity:10},{id:"3059182736459",name:"Nước Tẩy Bồn Cầu Diệt Khuẩn Xanh Biển",brand:"Vim",price:38200,image:"https://www.lottemart.vn/media/catalog/product/cache/0x0/8/9/8934868162353.jpg.webp",inStockQuantity:10},{id:"8374019283740",name:"Nước Rửa Chén Sunlight Thiên Nhiên Lô Hội Túi 3.3kg",brand:"Sunlight",price:95e3,image:"https://u-shop.vn/images/thumbs/0016369_nuoc-rua-chen-sunlight-thien-nhien-muoi-khoang-va-lo-hoi-tui-33kg.png",inStockQuantity:10}];var l=function(e){return Promise.resolve(c.find(function(t){return t.id===e}))},s=n(3504);function u(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(n,r,a,i){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return m(s,"_invoke",function(n,r,a){var i,c,l,s=0,u=a||[],m=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,c=0,l=e,d.n=n,o}};function f(n,r){for(c=n,l=r,t=0;!m&&s&&!a&&t<u.length;t++){var a,i=u[t],f=d.p,h=i[2];n>3?(a=h===r)&&(l=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=f&&((a=n<2&&f<i[1])?(c=0,d.v=r,d.n=i[1]):f<h&&(a=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,d.n=h,c=0))}if(a||n>1)return o;throw m=!0,r}return function(a,u,h){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,h),c=u,l=h;(t=c<2?e:l)||!m;){i||(c?c<3?(c>1&&(d.n=-1),f(c,l)):d.n=l:d.v=l);try{if(s=2,i){if(c||(a="next"),t=i[a]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);i=e}else if((t=(m=d.n<0)?l:n.call(r,d))!==o)break}catch(t){i=e,c=1,l=t}finally{s=1}}return{value:t,done:m}}}(n,a,i),!0),s}var o={};function c(){}function l(){}function s(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(m(t={},r,function(){return this}),t),f=s.prototype=c.prototype=Object.create(d);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,m(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=s,m(f,"constructor",s),m(s,"constructor",l),l.displayName="GeneratorFunction",m(s,a,"GeneratorFunction"),m(f),m(f,a,"Generator"),m(f,r,function(){return this}),m(f,"toString",function(){return"[object Generator]"}),(u=function(){return{w:i,m:h}})()}function m(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}m=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){m(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},m(e,t,n,r)}function d(e,t,n,r,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,c,"next",e)}function c(e){d(i,r,a,o,c,"throw",e)}o(void 0)})}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const b=function(e){var t=e.onScan,n=e.setOnScan,c=e.className,m=void 0===c?"":c,d=(0,r.useRef)(null),g=(0,r.useRef)(!1),b=h((0,r.useState)([]),2),p=b[0],v=b[1],y=h((0,r.useState)(null),2),w=y[0],x=y[1],N="reader",E=h((0,r.useState)(t||!1),2),k=E[0],S=E[1],C=(0,r.useRef)(0),j=function(){var e=f(u().m(function e(t){var r,a;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!g.current){e.n=1;break}return e.a(2);case 1:if(g.current=!0,e.p=2,d.current){e.n=3;break}d.current=new i.j9(N),e.n=4;break;case 3:if((r=d.current.getState())!==i.Qq.SCANNING&&r!==i.Qq.PAUSED){e.n=4;break}return e.n=4,d.current.stop();case 4:return e.n=5,d.current.start(t,{fps:10,qrbox:{width:300,height:300}},function(){var e=f(u().m(function e(t){var r,a;return u().w(function(e){for(;;)switch(e.n){case 0:if(!((r=Date.now())-C.current<1200)){e.n=1;break}return e.a(2);case 1:return C.current=r,e.n=2,l(t);case 2:if(a=e.v){e.n=3;break}return alert(s.A.t("qr.log.cantFind")),e.a(2);case 3:o.g.getState().addItem({id:t,name:a.name||"không tìm thấy",brand:a.brand||"Không rõ",price:a.price||0,image:a.image||"https://product.hstatic.net/1000205116/product/37403542_2080234622240138_7694883310392049664_n_1024x1024.jpg",category:1}),S(!1),null==n||n(!1);case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),function(){});case 5:x(t),e.n=7;break;case 6:e.p=6,a=e.v,console.error(s.A.t("qr.log.errorScan"),a);case 7:return e.p=7,g.current=!1,e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(t){return e.apply(this,arguments)}}();return(0,r.useEffect)(function(){if(k)return i.j9.getCameras().then(function(e){if(v(e),e.length>0){var t=e.find(function(e){return e.label.toLowerCase().includes("back")||e.label.toLowerCase().includes("environment")});t||(t=e.length>1?e[e.length-1]:e[0]),j(t.id)}else alert(s.A.t("qr.log.cantFindCam"))}).catch(function(e){console.error(s.A.t("qr.log.cantGetListCam"),e),alert(s.A.t("qr.log.cantAccessCam"))}),function(){var e;null===(e=d.current)||void 0===e||e.stop().finally(function(){d.current=null})}},[k]),a().createElement("div",{className:"w-full h-full ".concat(m)},k?a().createElement("div",{className:"flex flex-col items-center justify-center w-full h-full relative"},a().createElement("div",{id:N,className:"relative w-full h-full rounded-lg overflow-hidden border border-gray-300"},a().createElement("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-white"}),a().createElement("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-white"}),a().createElement("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-white"}),a().createElement("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-white"})),p.length>1&&a().createElement("button",{onClick:function(){var e;if(!(p.length<2)&&w){var t=p.findIndex(function(e){return e.id===w}),n=null===(e=p[t])||void 0===e?void 0:e.label.toLowerCase().includes("front"),r=p.find(function(e){return n?e.label.toLowerCase().includes("back"):e.label.toLowerCase().includes("front")})||p[(t+1)%p.length];r&&j(r.id)}},className:"absolute top-4 right-4 z-10 px-3 py-1 bg-blue-600 text-white rounded shadow hover:bg-blue-700 transition"},s.A.t("qr.body.changeCam")),a().createElement("button",{onClick:function(){S(!1),null==n||n(!1)},className:"absolute bottom-4 right-4 z-10 px-3 py-1 bg-gray-800 text-white rounded shadow hover:bg-red-600 transition"},s.A.t("qr.body.closeScan"))):a().createElement("div",{className:"flex flex-col items-center justify-center w-full h-full"},a().createElement("h2",{className:"text-base font-semibold mb-4 text-center"},s.A.t("qr.header")),a().createElement("div",{className:"relative w-19/20 h-34 mt-5"},a().createElement("button",{onClick:function(){S(!0),null==n||n(!0)},className:"w-full h-full bg-gray-700 text-white rounded-lg flex items-center justify-center text-xl hover:bg-green-600 transition"},s.A.t("qr.body.scanning")),a().createElement("div",{className:"absolute top-2 left-2 w-5 h-1 bg-white"}),a().createElement("div",{className:"absolute top-2 left-2 w-1 h-5 bg-white"}),a().createElement("div",{className:"absolute top-2 right-2 w-5 h-1 bg-white"}),a().createElement("div",{className:"absolute top-2 right-2 w-1 h-5 bg-white"}),a().createElement("div",{className:"absolute bottom-2 left-2 w-5 h-1 bg-white"}),a().createElement("div",{className:"absolute bottom-2 left-2 w-1 h-5 bg-white"}),a().createElement("div",{className:"absolute bottom-2 right-2 w-5 h-1 bg-white"}),a().createElement("div",{className:"absolute bottom-2 right-2 w-1 h-5 bg-white"}))))};var p=n(4933),v=n(8203);function y(){var e=(0,o.g)(function(e){return e.listItem})||[],t=e.reduce(function(e,t){return e+t.price*t.category},0);return a().createElement("div",{className:"h-full flex flex-col px-2"},a().createElement(b,{className:"h-3/10"}),e.length>0&&a().createElement("p",{className:"py-1 "},a().createElement("b",null,s.A.t("qr.body.item.title"))),a().createElement("div",{className:"flex flex-col h-7/10 justify-between"},e.length>0&&a().createElement(p.A,{className:"h-4/5 mt-2 py-2 overflow-y-auto"}),0==e.length&&a().createElement("div",{className:"w-full flex flex-col justify-center items-center"},a().createElement("div",{className:"py-2 my-2"},a().createElement("b",null,s.A.t("qr.body.noItem.title"))),a().createElement("div",null,s.A.t("qr.body.noItem.description"))),e.length>0&&a().createElement("div",null,a().createElement("hr",{className:"border border-black my-1"}),a().createElement("div",{className:"w-full flex flex-row justify-between items-center py-2 px-2"},a().createElement("div",{className:"text-xl"},s.A.t("qr.body.item.total")),a().createElement("div",{className:"text-5xl text-[#b63383]"},(0,v.s)(t))))))}},4933:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(3884),a=n.n(r),i=n(65),o=n(8063),c=n(8203),l=n(2692),s=n(6773),u=n(5916),m=n(6858),d=n(5418),f=n(9494);function h(e){var t=e.open,n=e.setOpen,r=e.onClose,i=e.onConfirm,c=e.text1,h=e.text2;return a().createElement(s.A,{open:t,onClose:function(){n(!1),r()},maxWidth:"xs",fullWidth:!0,PaperProps:{className:"p-4 rounded-lg",style:{borderRadius:16}}},a().createElement(u.A,null,a().createElement(m.A,{className:"flex flex-col items-center"},a().createElement("img",{src:l,alt:"logo",width:80,height:80}))),a().createElement(d.A,{className:"flex flex-col items-center justify-center"},a().createElement(f.A,{align:"center",variant:"body1",className:"mb-2"},c),a().createElement(f.A,{align:"center",variant:"body1"},h),a().createElement(o.A,{variant:"contained",onClick:i,sx:{backgroundColor:"#e464bc","&:hover":{backgroundColor:"#c3399a"},"&:focus":{backgroundColor:"#b63383"},textTransform:"none",fontSize:"0.9rem",px:4,mt:4}},"Xác nhận")))}var g=n(3518),b=n(3504);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n,l=e.item,s=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],m=s[1];return a().createElement("div",{className:"w-95/100 h-25 flex flex-row my-1 "},a().createElement("div",{className:"w-full relative h-full flex flex-row justify-between items-center rounded-lg border border-gray-300 shadow-sm"},a().createElement("div",{className:"flex w-full flex-row items-center h-25 justify-start"},a().createElement("img",{src:l.image,alt:l.name,className:"object-cover shadow w-25 h-25 p-1"}),a().createElement("div",{className:"my-3 mx-1 flex flex-col w-full items-center h-25 justify-start items-start"},a().createElement("h4",{className:"text-lg font-semibold w-4/5 h-15",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"}},l.name),a().createElement("div",{className:"flex flex-row justify-between items-center h-10 w-full"},a().createElement("p",{className:"text-sm w-4/10 text-gray-500"},b.A.t("component.itemsCart.unitPrice")," ",(0,c.s)(l.price)),a().createElement("div",{className:"flex flex-row  items-center justify-center mx-1"},a().createElement(o.A,{variant:"contained",size:"small",onClick:function(){i.g.getState().updateNumItem(l.id,1)},sx:{minWidth:0,width:26,height:26,padding:0,backgroundColor:"#d9d9d9",border:"1px solid #1e40af",color:"black",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"#d0d0f0"}}},"+"),a().createElement("div",{className:"text-sm text-gray-500 mx-2 w-5 flex justify-center items-center"},l.category),a().createElement(o.A,{variant:"contained",size:"small",sx:{minWidth:0,width:26,height:26,padding:0,backgroundColor:"#d9d9d9",border:"1px solid #1e40af",color:"black",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"#d0d0f0"}},className:"text-black",onClick:function(){i.g.getState().updateNumItem(l.id,-1)}},"        -"))))),a().createElement("div",{className:"w-auto absolute -right-2 -top-2 flex flex-row justify-end items-center"},a().createElement(o.A,{variant:"contained",onClick:function(){m(!0)},className:"flex justify-center items-center",sx:{minWidth:26,height:26,padding:.5,fontSize:"0.75rem",borderRadius:"50%",backgroundColor:"white",color:"red",border:"1px solid red"}},a().createElement(g.A,{sx:{fontSize:16,color:"red"}})))),a().createElement(h,{open:u,setOpen:m,onClose:function(){return m(!1)},onConfirm:function(){m(!1),i.g.getState().removeItem(l)},text1:"Bạn có chắc muốn ",text2:"xóa sản phẩm này?"}))}function y(e){var t=e.className,n=(0,i.g)(function(e){return e.listItem})||[];return a().createElement("div",{className:"mt-2 py-2 flex flex-col items-center gap-3 w-full ".concat(t||"")},n.length>0?n.map(function(e,t){return a().createElement(v,{key:e.id||t,item:e})}):a().createElement("div",{className:"flex flex-col items-center text-gray-500"},b.A.t("mycart.emptyCart")))}},8203:(e,t,n)=>{n.d(t,{s:()=>r});var r=function(e){return"number"!=typeof e?"":e.toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\s?₫$/,"")}}}]);